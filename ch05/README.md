# ch05 - 选择控制结构

## lui + lw ？ 还是 lui + addi ？

在 RISC-V 汇编语言中，`lui`（Load Upper Immediate）和`lw`（Load Word）以及`addi`（Add Immediate）
指令经常被用来从内存加载数据或者构造大的立即数。这两种组合的使用场景和区别主要取决于操作的目标和上下文。

### `lui` + `lw`的使用场景

- **目标：** 用于加载 32 位地址空间中的一个 32 位数据到寄存器。
  `lui`将高 20 位立即数加载到寄存器的高 20 位，然后`lw`用于加载这个地址指向的 32 位数据。
- **适用场景：** 当你需要从某个具体的内存地址读取一个 32 位的值到寄存器时使用。
  比如，全局变量或静态变量的访问就可能使用这种组合。

### `lui` + `addi`的使用场景

- **目标：** 用于构造一个 32 位或者更大的立即数或者地址到寄存器中。`lui`加载高 20 位立即数，
  `addi`则添加到低 12 位，从而构成一个完整的 32 位（或用于地址计算的更大）数值。
- **适用场景：** 当需要将一个大的立即数或者某个特定的地址值直接加载到寄存器中，而不是加载该地址处的数据时。
  这种方式常用于需要计算地址或设置某些特定值时。

### 区别

- **数据访问 vs. 数值/地址构造：** `lui` + `lw`组合更多的是用于访问内存中的数据，即读取一个具体地址处的数据值。
  而`lui` + `addi`组合则更多用于构造寄存器中的数值或地址本身，用于后续的操作，而不直接涉及内存访问。
- **指令的目标不同：** `lw`是用来从内存地址加载数据，而`addi`是用来对寄存器中的数值进行立即数加法操作。

综上，这两种指令组合的选择取决于你的目的：是需要直接读取内存中的数据，还是需要构造一个数值或地址在寄存器中进行后续操作。
